<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>PlanDaVoyage</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box;font-family:'Segoe UI',Tahoma,sans-serif}
body{margin:0;background:linear-gradient(135deg,#ffffff,#ece6ff);color:#111}

.warning{
  background:#c80000;color:#fff;text-align:center;
  padding:10px;font-weight:bold;animation:pulse 2s infinite
}
@keyframes pulse{0%{opacity:1}50%{opacity:.7}100%{opacity:1}}

header{text-align:center;padding:25px}
header h1{color:#5a2cff;font-size:2.8rem}

#stats{text-align:center;font-weight:bold;margin-bottom:10px}

.search-bar{
  max-width:1200px;margin:auto;padding:0 20px 10px
}
.search-bar input{
  width:100%;padding:14px;border-radius:14px;
  border:1px solid #ccc;font-size:1rem
}

.layout{
  max-width:1200px;margin:auto;
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:20px;
  padding:20px
}

/* LEFT & RIGHT CARDS */
.card-panel{
  background:#fff;
  border-radius:16px;
  box-shadow:0 0 20px rgba(90,44,255,.25);
  padding:20px;
}

.place-card{
  padding:14px;
  border:1px solid #ddd;
  border-radius:12px;
  margin-bottom:12px;
  cursor:pointer;
  transition:.25s;
}
.place-card:hover{background:#f3f0ff}

.preview{
  min-height:220px;
  border:2px dashed #ccc;
  border-radius:12px;
  padding:20px;
  color:#666;
  position:relative;
}

.close{
  position:absolute;
  top:10px;
  right:14px;
  font-size:18px;
  cursor:pointer;
}

button{
  margin-top:15px;
  padding:12px 18px;
  border:none;
  border-radius:12px;
  background:#5a2cff;
  color:#fff;
  font-weight:bold;
  cursor:pointer
}

#aiBtn{
  position:fixed;bottom:20px;right:20px;
  background:linear-gradient(135deg,#5a2cff,#00b7ff);
  color:#fff;padding:14px 18px;border-radius:30px;
  font-weight:bold;cursor:pointer;
  box-shadow:0 0 20px #5a2cff
}

@media(max-width:900px){
  .layout{grid-template-columns:1fr}
}
</style>
</head>

<body>

<div class="warning">‚ö†Ô∏è UNDER TESTING & DEVELOPMENT ‚ö†Ô∏è</div>

<header><h1>PlanDaVoyage</h1></header>
<div id="stats"></div>

<div class="search-bar">
  <input id="search" placeholder="Search destinations..." />
</div>

<div class="layout">

  <!-- LEFT SIDE -->
  <div class="card-panel" id="list"></div>

  <!-- RIGHT SIDE -->
  <div class="card-panel">
    <div id="details" class="preview">
      Click a destination card to view details here.
    </div>
  </div>

</div>

<div id="aiBtn" onclick="location.href='ai.html'">ü§ñ DaHelpeCenter</div>

<script>
/* RESET SESSION ITINERARY */
sessionStorage.removeItem("itinerary");

/* POINTS ONLY */
let user = JSON.parse(localStorage.getItem("pdv_user")) || {points:0};
user.points += 5;
localStorage.setItem("pdv_user",JSON.stringify(user));
document.getElementById("stats").innerText = `‚≠ê Points: ${user.points}`;

/* ADD TO ITINERARY */
function addToItinerary(p){
  let itin = JSON.parse(sessionStorage.getItem("itinerary")) || [];
  if(itin.some(i=>i.name===p.name)){alert("Already added.");return;}
  itin.push(p);
  sessionStorage.setItem("itinerary",JSON.stringify(itin));
  user.points+=10;
  localStorage.setItem("pdv_user",JSON.stringify(user));
  document.getElementById("stats").innerText=`‚≠ê Points: ${user.points}`;
}

/* PLACES */
const places=[
{
  name:"Amboli Waterfall",
  description:"Scenic monsoon waterfall in the Western Ghats.",
  info:"3 km from Amboli village. Best June‚ÄìOctober.",
  link:"https://www.google.com/maps/search/?api=1&query=Amboli+Waterfall+Maharashtra"
},
{
  name:"Devkund Waterfall",
  description:"Popular trekking waterfall destination.",
  info:"5 km trek, rocky terrain.",
  link:"https://www.google.com/maps/search/?api=1&query=Devkund+Waterfall+Maharashtra"
},
{
  name:"Pawna Dam",
  description:"Reservoir near Lonavala.",
  info:"Popular for camping.",
  link:"https://www.google.com/maps/search/?api=1&query=Pawna+Dam+Maharashtra"
}
];

const list=document.getElementById("list");
const details=document.getElementById("details");
const search=document.getElementById("search");

function renderList(filter=""){
  list.innerHTML="";
  places.filter(p=>p.name.toLowerCase().includes(filter))
    .forEach(p=>{
      const card=document.createElement("div");
      card.className="place-card";
      card.innerHTML=`<b>${p.name}</b><br>${p.description}`;
      card.onclick=()=>showDetails(p);
      list.appendChild(card);
    });
}

function showDetails(p){
  details.innerHTML=`
    <span class="close" onclick="clearDetails()">√ó</span>
    <h2>${p.name}</h2>
    <p>${p.description}</p>
    <p><b>Info:</b> ${p.info}</p>
    <a href="${p.link}" target="_blank">üìç Google Maps</a><br>
    <button onclick='addToItinerary(${JSON.stringify(p)})'>Add to Itinerary</button>
  `;
}

function clearDetails(){
  details.innerHTML="Click a destination card to view details here.";
}

search.addEventListener("input",()=>renderList(search.value.toLowerCase()));
renderList();
</script>

</body>
</html>
